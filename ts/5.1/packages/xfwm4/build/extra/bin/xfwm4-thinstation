#!/bin/sh
. $TS_GLOBAL

if [ ! -e /lib/applications/Thunar.desktop ]; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-filesystem -t bool -s false -n
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-home -t bool -s false -n
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-trash -t bool -s false -n
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-removable -t bool -s false -n
fi
if is_disabled $DESKTOP_SHOWTRASH; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-trash -t bool -s false -n
fi
if is_disabled $DEKSTOP_SHOWHOME; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-home -t bool -s false -n
fi
if is_disabled $DESKTOP_SHOWREMOVEABLE; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-removable -t bool -s false -n
fi
if is_disabled $DESKTOP_SHOWFILESYSTEM; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/file-icons/show-filesystem -t bool -s false -n
fi
if [ -n "$DESKTOP_ICON_SIZE" ]; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/icon-size -t uint -s $DESKTOP_ICON_SIZE -n
fi
if [ -n "$DESKTOP_FONT_SIZE" ]; then
	xfconf-query -c xfce4-desktop -p /desktop-icons/use-custom-font-size -t bool -s true -n
	xfconf-query -c xfce4-desktop -p /desktop-icons/font-size -t double -s $DESKTOP_FONT_SIZE -n
fi
if [ -n "$XFWM4_BRIGHTNESS" ]; then
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/brightness -t int -s $XFWM4_BRIGHTNESS -n
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/brightness -t int -s $XFWM4_BRIGHTNESS -n
fi
if [ -n "$XFWM4_SATURATION" ]; then
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/saturation -t double -s $XFWM4_SATURATION -n
        xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/saturation -t double -s $XFWM4_SATURATION -n
fi
if [ -e /etc/background.jpg ]; then
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/image-path -t string -s /etc/background.jpg -n
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/image-show -t string -s true -n
        xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/image-path -t string -s /etc/background.jpg -n
        xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/image-show -t string -s true -n
fi
if [ -n "$XFWM4_RED" ] && [ -n "$XFWM4_BLUE" ] && [ -n "$XFWM4_GREEN" ]; then
	xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/color1 -t uint -t uint -t uint -t uint -s $XFWM4_RED -s $XFWM4_BLUE -s $XFWM4_GREEN -s 65535 -n
        xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/color1 -t uint -t uint -t uint -t uint -s $XFWM4_RED -s $XFWM4_BLUE -s $XFWM4_GREEN -s 65535 -n
fi
if [ -n "$XFWM4_START_ICON" ]; then
	xfconf-query -c xfce4-panel -p /plugins/plugin-1/button-icon -t string -s $XFWM4_START_ICON -n
fi
if [ -n "$XFWM4_START_TITLE" ]; then
	xfconf-query -c xfce4-panel -p /plugins/plugin-1/button-title -t string -s $XFWM4_START_TITLE -n
fi
if [ "`make_caps x$XFWM4_START_POSITION`" == "XBOTTOM" ]; then
	xfconf-query -c xfce4-panel -p /panels/panel-1/position -t string -s "p=8;x=0;y=0" -n
fi
if is_enabled $XFWM4_COMPOSITING; then
	xfconf-query -c xfwm4 -p /general/use_compositing -t bool -s true -n
fi
if [ -n "XFWM4$_THEME" ] && [ "$XFWM4_THEME" != "ALL" ]; then
	if [ -e /lib/themes/$XFWM4_THEME/xfwm4/themerc ]; then
		xfconf-query -c xfwm4 -p /general/theme -t string -s $XFWM4_THEME -n
	fi
fi
